{"level":"error","message":{"content":"coudn't allocate leaves: ","meta":["MongoServerError: Plan executor error during findAndModify :: caused by :: E11000 duplicate key error collection: cubedots-hrms.leavebalances index: user_id_1 dup key: { user_id: null }\n    at Connection.onMessage (E:\\Cubedots-HRMS\\cubedots-hrms-backend\\node_modules\\mongodb\\lib\\cmap\\connection.js:202:26)\n    at MessageStream.<anonymous> (E:\\Cubedots-HRMS\\cubedots-hrms-backend\\node_modules\\mongodb\\lib\\cmap\\connection.js:61:60)\n    at MessageStream.emit (node:events:513:28)\n    at processIncomingData (E:\\Cubedots-HRMS\\cubedots-hrms-backend\\node_modules\\mongodb\\lib\\cmap\\message_stream.js:124:16)\n    at MessageStream._write (E:\\Cubedots-HRMS\\cubedots-hrms-backend\\node_modules\\mongodb\\lib\\cmap\\message_stream.js:33:9)\n    at writeOrBuffer (node:internal/streams/writable:392:12)\n    at _write (node:internal/streams/writable:333:10)\n    at Writable.write (node:internal/streams/writable:337:10)\n    at TLSSocket.ondata (node:internal/streams/readable:766:22)\n    at TLSSocket.emit (node:events:513:28)\n    at addChunk (node:internal/streams/readable:324:12)\n    at readableAddChunk (node:internal/streams/readable:297:9)\n    at Readable.push (node:internal/streams/readable:234:10)\n    at TLSWrap.onStreamRead (node:internal/stream_base_commons:190:23)"],"type":"USER"},"timestamp":"2023-08-16 11:22:29"}
{"level":"error","message":{"content":"Exception: Failed to apply leaves ","meta":["TypeError: Cannot read properties of undefined (reading 'allocated')\n    at applyLeave (E:\\Cubedots-HRMS\\cubedots-hrms-backend\\src\\controllers\\userController.js:738:26)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"],"type":"USER"},"timestamp":"2023-08-16 13:05:39"}
{"level":"error","message":{"content":"Exception: Failed to apply leaves ","meta":["TypeError: Cannot read properties of undefined (reading 'allocated')\n    at applyLeave (E:\\Cubedots-HRMS\\cubedots-hrms-backend\\src\\controllers\\userController.js:739:26)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"],"type":"USER"},"timestamp":"2023-08-16 13:07:21"}
{"level":"error","message":{"content":"Exception: Failed to apply leaves ","meta":["TypeError: Cannot read properties of undefined (reading 'allocated')\n    at applyLeave (E:\\Cubedots-HRMS\\cubedots-hrms-backend\\src\\controllers\\userController.js:739:26)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"],"type":"USER"},"timestamp":"2023-08-16 13:07:46"}
{"level":"error","message":{"content":"Exception: Failed to apply leaves ","meta":["TypeError: Cannot read properties of undefined (reading 'allocated')\n    at applyLeave (E:\\Cubedots-HRMS\\cubedots-hrms-backend\\src\\controllers\\userController.js:740:26)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"],"type":"USER"},"timestamp":"2023-08-16 13:09:20"}
{"level":"error","message":{"content":"Exception: Failed to apply leaves ","meta":["ValidationError: LeaveRequest validation failed: leaveDuration: `false` is not a valid enum value for path `leaveDuration`.\n    at Document.invalidate (E:\\Cubedots-HRMS\\cubedots-hrms-backend\\node_modules\\mongoose\\lib\\document.js:3153:32)\n    at E:\\Cubedots-HRMS\\cubedots-hrms-backend\\node_modules\\mongoose\\lib\\document.js:2946:17\n    at E:\\Cubedots-HRMS\\cubedots-hrms-backend\\node_modules\\mongoose\\lib\\schematype.js:1368:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:77:11)"],"type":"USER"},"timestamp":"2023-08-16 16:17:03"}
{"level":"error","message":{"content":"Exception: Failed to apply leaves ","meta":["ValidationError: LeaveRequest validation failed: leaveDuration: Path `leaveDuration` is required.\n    at Document.invalidate (E:\\Cubedots-HRMS\\cubedots-hrms-backend\\node_modules\\mongoose\\lib\\document.js:3153:32)\n    at E:\\Cubedots-HRMS\\cubedots-hrms-backend\\node_modules\\mongoose\\lib\\document.js:2946:17\n    at E:\\Cubedots-HRMS\\cubedots-hrms-backend\\node_modules\\mongoose\\lib\\schematype.js:1368:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:77:11)"],"type":"USER"},"timestamp":"2023-08-16 16:17:51"}
{"level":"error","message":{"content":"Exception: Failed to apply leaves ","meta":["TypeError: Cannot read properties of undefined (reading 'allocated')\n    at applyLeave (E:\\Cubedots-HRMS\\cubedots-hrms-backend\\src\\controllers\\userController.js:739:26)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"],"type":"USER"},"timestamp":"2023-08-16 17:03:44"}
{"level":"error","message":{"content":"Exception: Failed to apply leaves ","meta":["TypeError: Cannot read properties of undefined (reading 'allocated')\n    at applyLeave (E:\\Cubedots-HRMS\\cubedots-hrms-backend\\src\\controllers\\userController.js:739:26)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"],"type":"USER"},"timestamp":"2023-08-16 17:05:09"}
{"level":"error","message":{"content":"Exception: Failed to apply leaves ","meta":["TypeError: Cannot read properties of undefined (reading 'allocated')\n    at applyLeave (E:\\Cubedots-HRMS\\cubedots-hrms-backend\\src\\controllers\\userController.js:740:26)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"],"type":"USER"},"timestamp":"2023-08-16 17:06:11"}
{"level":"error","message":{"content":"Exception: Failed to apply leaves ","meta":["ValidationError: LeaveRequest validation failed: leaveType: Cast to ObjectId failed for value \"sick\" (type string) at path \"leaveType\" because of \"BSONError\"\n    at Document.invalidate (E:\\Cubedots-HRMS\\cubedots-hrms-backend\\node_modules\\mongoose\\lib\\document.js:3153:32)\n    at model.$set (E:\\Cubedots-HRMS\\cubedots-hrms-backend\\node_modules\\mongoose\\lib\\document.js:1453:12)\n    at model.$set (E:\\Cubedots-HRMS\\cubedots-hrms-backend\\node_modules\\mongoose\\lib\\document.js:1113:16)\n    at model.Document (E:\\Cubedots-HRMS\\cubedots-hrms-backend\\node_modules\\mongoose\\lib\\document.js:164:12)\n    at model.Model (E:\\Cubedots-HRMS\\cubedots-hrms-backend\\node_modules\\mongoose\\lib\\model.js:122:12)\n    at new model (E:\\Cubedots-HRMS\\cubedots-hrms-backend\\node_modules\\mongoose\\lib\\model.js:4684:15)\n    at E:\\Cubedots-HRMS\\cubedots-hrms-backend\\node_modules\\mongoose\\lib\\model.js:2914:18\n    at Array.map (<anonymous>)\n    at Function.create (E:\\Cubedots-HRMS\\cubedots-hrms-backend\\node_modules\\mongoose\\lib\\model.js:2903:30)\n    at applyLeave (E:\\Cubedots-HRMS\\cubedots-hrms-backend\\src\\controllers\\userController.js:756:56)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"],"type":"USER"},"timestamp":"2023-08-16 17:06:53"}
{"level":"error","message":{"content":"Exception: Failed to apply leaves ","meta":["ValidationError: LeaveRequest validation failed: leaveType: Cast to ObjectId failed for value \"sick\" (type string) at path \"leaveType\" because of \"BSONError\"\n    at Document.invalidate (E:\\Cubedots-HRMS\\cubedots-hrms-backend\\node_modules\\mongoose\\lib\\document.js:3153:32)\n    at model.$set (E:\\Cubedots-HRMS\\cubedots-hrms-backend\\node_modules\\mongoose\\lib\\document.js:1453:12)\n    at model.$set (E:\\Cubedots-HRMS\\cubedots-hrms-backend\\node_modules\\mongoose\\lib\\document.js:1113:16)\n    at model.Document (E:\\Cubedots-HRMS\\cubedots-hrms-backend\\node_modules\\mongoose\\lib\\document.js:164:12)\n    at model.Model (E:\\Cubedots-HRMS\\cubedots-hrms-backend\\node_modules\\mongoose\\lib\\model.js:122:12)\n    at new model (E:\\Cubedots-HRMS\\cubedots-hrms-backend\\node_modules\\mongoose\\lib\\model.js:4684:15)\n    at E:\\Cubedots-HRMS\\cubedots-hrms-backend\\node_modules\\mongoose\\lib\\model.js:2914:18\n    at Array.map (<anonymous>)\n    at Function.create (E:\\Cubedots-HRMS\\cubedots-hrms-backend\\node_modules\\mongoose\\lib\\model.js:2903:30)\n    at applyLeave (E:\\Cubedots-HRMS\\cubedots-hrms-backend\\src\\controllers\\userController.js:756:56)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"],"type":"USER"},"timestamp":"2023-08-16 17:07:26"}
{"level":"error","message":{"content":"Exception: Failed to apply leaves ","meta":["ValidationError: LeaveRequest validation failed: leaveType: Cast to ObjectId failed for value \"sick\" (type string) at path \"leaveType\" because of \"BSONError\"\n    at Document.invalidate (E:\\Cubedots-HRMS\\cubedots-hrms-backend\\node_modules\\mongoose\\lib\\document.js:3153:32)\n    at model.$set (E:\\Cubedots-HRMS\\cubedots-hrms-backend\\node_modules\\mongoose\\lib\\document.js:1453:12)\n    at model.$set (E:\\Cubedots-HRMS\\cubedots-hrms-backend\\node_modules\\mongoose\\lib\\document.js:1113:16)\n    at model.Document (E:\\Cubedots-HRMS\\cubedots-hrms-backend\\node_modules\\mongoose\\lib\\document.js:164:12)\n    at model.Model (E:\\Cubedots-HRMS\\cubedots-hrms-backend\\node_modules\\mongoose\\lib\\model.js:122:12)\n    at new model (E:\\Cubedots-HRMS\\cubedots-hrms-backend\\node_modules\\mongoose\\lib\\model.js:4684:15)\n    at E:\\Cubedots-HRMS\\cubedots-hrms-backend\\node_modules\\mongoose\\lib\\model.js:2914:18\n    at Array.map (<anonymous>)\n    at Function.create (E:\\Cubedots-HRMS\\cubedots-hrms-backend\\node_modules\\mongoose\\lib\\model.js:2903:30)\n    at applyLeave (E:\\Cubedots-HRMS\\cubedots-hrms-backend\\src\\controllers\\userController.js:756:56)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"],"type":"USER"},"timestamp":"2023-08-16 17:07:50"}
